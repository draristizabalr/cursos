<h1>Github Issues</h1>
<div class="my-5 border-b-2 border-blue-600"></div>

<!-- BotÃ³nes para controlar el Estado (state) -->
<section class="grid grid-cols-1 sm:grid-cols-3 gap-2">
  <div class="col-span-full flex flex-col">
    <div class="flex gap-2">
      <button
        [class.active]="issuesService.selectedState() === 'all'"
        class="cursor-pointer btn"
        (click)="changeState('all')"
      >
        All
      </button>
      <button
        [class.active]="issuesService.selectedState() === 'open'"
        class="cursor-pointer btn"
        (click)="changeState('open')"
      >
        Open
      </button>
      <button
        [class.active]="issuesService.selectedState() === 'closed'"
        class="cursor-pointer btn"
        (click)="changeState('closed')"
      >
        Closed
      </button>
    </div>
  </div>

  <!-- Listado -->
  <div class="flex flex-col col-span-2">
    <h3>Issues</h3>
    <!-- TODO: Listado de issues -->
    @for (issue of issuesQuery.data(); track issue.id) {
      <issue-item [issue]="issue"></issue-item>
    } @empty {
      @if (issuesQuery.isLoading()) {
        <p>Cargando issues</p>
      } @else {
        <p>No hay issues que mostrar</p>
      }
    }

    <!-- TODO: Spinner -->

    <!-- TODO: Si no hay issues por el filtro -->
  </div>

  <!-- Labels -->
  <div>
    <h3>Labels</h3>
    <!-- TODO: Spinner -->
    @if (labelsQuery.isLoading()) {
      <p>Estamos cargando</p>
    } @else {
      <issues-labels-selector
        [labels]="labelsQuery.data() ?? []"
      ></issues-labels-selector>
    }

    <!-- TODO: Label selector -->
  </div>
</section>
